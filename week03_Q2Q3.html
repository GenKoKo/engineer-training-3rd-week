<!DOCTYPE html>

<html>
    <head>
        <meta charset="utf-8"></meta>
        <meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1"/>
        <title>3rd week assignment Q2&Q3</title>
        <link rel="stylesheet" href="Q2_Q3 style.css" type="text/css">

</head>

<header>
    <div class="logo">My Website </div> 
        <div class="blank"></div> 
        <div class="item"> 
            <span>Item1</span>
            <span>Item2</span>
            <span>Item3</span>
            <span>Item4</span>
        </div>
        <a href="#" class="show_burger">
            <img src="https://genkoko.github.io/engineer-training-1st-week/icon_burger.png" width="20px"/>
        </a>
    </header>
    
    <body onload="getData();">
        
        <div class="welcome">
            Welcome to MyPage
        </div>
        
        
        <main>
            <div id="content"></div>

            <button onclick="getData();" class="btn">
                <div id="load">Load More</div>
            </button>
            <br/><br/>

        </main>



        <script type="text/javascript">
            targetUrl = "https://padax.github.io/taipei-day-trip-resources/taipei-attractions.json"
            let content = document.getElementById("content");

            let count = 0;
            function getData(){
                
                fetch(targetUrl).then( (response) => {
                    return response.json();
                    }).then( (result) => {
                        for (let i = 0; i < 8; i++){
                            // console.log(proto_name, proto_foto);
                            var proto_name = result["result"]["results"][count]["stitle"];
                            var proto_foto = "http"+ result["result"]["results"][count]["file"].split("http")[1];
                    
                            var spot_box_div = document.createElement("div");
                            spot_box_div.className = "box";

                            var spot_foto_img = document.createElement("img");
                            spot_foto_img.src = proto_foto;
                        
                            var spot_name_div = document.createElement("div");
                            spot_name_div.className = "title";
                        
                            var spot_name = document.createTextNode(proto_name);
                            spot_name_div.appendChild(spot_name);
                        
                            spot_box_div.appendChild(spot_foto_img);
                            spot_box_div.appendChild(spot_name_div);
                            content.appendChild(spot_box_div);

                            count += 1; 
                    }
                })       
            }
        </script>

    </body>
    
    
    </html>
    